function forecast(a,d,e){if(!app._forecastPending){app._forecastPending=!0;var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState)if(app._forecastPending=!1,200===c.status){var b=JSON.parse(c.responseText);e(null,b)}else return b=c.responseText,0===b.length&&(b="No response.",navigator.onLine||(b+=" Looks like you are offline.")),b=Error(b),b.status=c.status,e(b)};a="https://api.weather.gov/points/"+d+","+a+"/forecast";console.log(a);c.open("GET",a);c.send()}}
var getTimeString=function(a,d){a=new Date(a);a.setTime(a.getTime()+6E4*a.getTimezoneOffset()-d);return a.toLocaleString()};
function formatForecast(a,d,e,c){var b='<div class="forecast" id="forecast">';b+="<table>";var f=!0;a.properties.periods.forEach(function(a){f&&(f=!1,a.name.match(/night/i)&&(b+="<tr></tr>",console.log(a.name)));b+="<tr>";b+='<td><img src="'+a.icon+'"></td>';b+="<td><b>"+a.name+"</b> ";b+="("+getTimeString(a.startTime,c)+" - "+getTimeString(a.endTime,c)+"): ";b+=a.detailedForecast+"</td>";b+="</tr>"});return b+="</table></div>"};
